# Домашнее задание к занятию «PLC Овен»

### Цель задания

Компания «ОВЕН» является одним из ведущих отечественных производителей компонентов для АСУ ТП. Имеет собственное производство в РФ. Занимается поставкой PLC, HMI, датчиков, регуляторов и исполнительных механизмов, а также  частотных преобразователей, системами АСКУЭ, разработкой и поддержкой собственного ПО и т.д. 
В результате выполнения этого задания вы сможете:
1. Подобрать оборудование ОВЕН под проектируемую АСУ ТП.
2. Изучить основы программирования программируемых реле, его особенности.
3. Настроить связь программируемых реле с OPC-сервером.

-----

### Чеклист готовности к домашнему заданию

1. Загрузить и установить [OWEN Logic](https://owen.ru/product/programmnoe_obespechenie_owen_logic).
2. Загрузить [ОВЕН OPC](https://owen.ru/product/new_opc_server/documentation_and_software). Инструкция по установке и настройке ОВЕН OPC находится в [этой инструкции](https://docs.google.com/presentation/d/17y1o9sd37TdxqXJT7Jly9mM31kDaEuZpYkmKrzWOj1Y/edit?usp=sharing).

-----

### Инструкция к заданию

1. Выполните установку необходимых программных инструментов из **Чеклиста готовности к домашнему заданию**.
2. Сделайте копию [Шаблона для домашнего задания](https://docs.google.com/document/d/1R6ExltvOArFA8VOiNQnXT4XoxNyYFmrE4nnmyHmM0NI/edit?usp=sharing) себе на Google Диск.
3. В названии файла введите вашу фамилию и имя.
4. Зайдите в «Настройки доступа» скопированного вами шаблона и выберите доступ «Просматривать могут все в Интернете, у кого есть ссылка». Ссылка на инструкцию Как предоставить доступ к файлам и папкам на Google Диске.
5. Скопируйте текст задания в свой документ.
6. Выполните домашнее задание.
7. Вставьте в соответствующие абзацы вашего документа ссылки на выполненные задания.
8. Для проверки домашнего задания преподавателем отправьте ссылку на ваш документ в личном кабинете.
9. Любые вопросы по решению задач задавайте в чате учебной группы.

-----

### Инструменты/ дополнительные материалы, которые пригодятся для выполнения задания

1. [Каталог ОВЕН](https://owen.ru/).
2. [Google.Диск](https://drive.google.com/drive/my-drive).
3. [OWEN Logic](https://owen.ru/product/programmnoe_obespechenie_owen_logic).
4. [ОВЕН OPC](https://owen.ru/product/new_opc_server/documentation_and_software).
5. [Инструкция по установке и настройке ОВЕН OPC](https://docs.google.com/presentation/d/17y1o9sd37TdxqXJT7Jly9mM31kDaEuZpYkmKrzWOj1Y/edit?usp=sharing).
6. [Техническое задание](https://docs.google.com/document/d/1tvL5GHMFc6M52DuMWpGlFlc_Yxgmg3JFYjHh0-HFBbQ/edit?usp=sharing).
7. [Шаблон спецификации](https://docs.google.com/spreadsheets/d/12CCWojuBL6S2qRvUdwX1AmdFzx92rlQ9OMwxiN9qGI0/edit?usp=sharing).
8. [Шаблон для домашнего задания](https://docs.google.com/document/d/1R6ExltvOArFA8VOiNQnXT4XoxNyYFmrE4nnmyHmM0NI/edit?usp=sharing).

-----

### Задание 1

Руководство поставило перед вами задачу: спроектировать систему открытия и закрытия регулирующего клапана. Необходимо произвести подбор следующих компонентов из [каталога фирмы ОВЕН](https://owen.ru/):
- программируемое реле (ПР)
- двухпозиционный клапан с электроприводом
- датчики открытия/закрытия клапана
- кнопки открытия/закрытия и кнопку остановки (**находятся в разделе «Каталог продукции - Электротехническое оборудование MEYERTEK»**).
Подберите оборудование в соответствии с [техническим заданием](https://docs.google.com/document/d/1tvL5GHMFc6M52DuMWpGlFlc_Yxgmg3JFYjHh0-HFBbQ/edit?usp=sharing).
*Результатом выполнения данного задания будет заполненная [спецификация](https://docs.google.com/spreadsheets/d/12CCWojuBL6S2qRvUdwX1AmdFzx92rlQ9OMwxiN9qGI0/edit?usp=sharing) с комплектом подобранного оборудования. Для работы со спецификацией сохраните копию документа на свой диск*.

### Задание 2

Разработать логику для программируемого реле в среде OWEN Logic. 

#### Алгоритм работы

Программируемое реле принимает 6 **входных сигналов** и 4 **выходных сигнала**: 
- *I1*: кнопка **«Открыть»** регулирующий клапан
- *I2*: кнопка **«Закрыть»** регулирующий клапан
- *I3*: **«Н.О. контакт»** с пускателя открытия клапана электродвигателя регулирующего клапана
- *I4*: **«Н.О. контакт»** с пускателя закрытия клапана электродвигателя регулирующего клапана
- *I5*: кнопка **«Остановка»** открытия/закрытия регулирующего клапана
- *I6*: **«Датчик открытия»** регулирующего клапана
- *I7*: **«Датчик закрытия»** регулирующего клапана
- *Q1*: выходной сигнал клапана **Открыть**
- *Q2*: выходной сигнал клапана **Закрыть**
- *Q3*: выходной сигнал клапана **Ошибка открытия**
- *Q4*: выходной сигнал клапана **Ошибка закрытия*

1. Программируемое реле выдает сигнал на пускатель для открытия клапана при нажатии кнопки **«Открыть»**, а сигнал для закрытия клапана - при нажатии кнопки **«Закрыть»**. Таким образом, запуск двигателя регулирующего клапана выполняется в случае нажатия одной из кнопок **«Открыть»** или **«Закрыть»**, и сигнала **«Н.О. контакт пускателя»** выбранного направления (данный сигнал показывает то, что пускатель сработал). 
2. При нажатии кнопки **«Остановить движение»** вращение двигателя немедленно прекращается независимо от текущего положения регулирующего клапана.
3. При нажатии кнопки **«Открыть клапан»** вращение двигателя происходит до срабатывания датчика открытия клапана.
4. При нажатии кнопки **«Закрыть клапан»** вращение двигателя происходит до срабатывания датчика закрытия клапана.
5. Если после нажатия кнопки **«Открыть клапан»** в течение 10 секунд не появляется сигнал с датчика открытия, то появляется выходной сигнал **«Ошибка открытия клапана»**.
6. Если после нажатия кнопки **«Закрыть клапан»** в течение 10 секунд не появляется сигнал с датчика закрытия, то появляется выходной сигнал **«Ошибка закрытия клапана»**.
7. При нажатии кнопки **«Открыть клапан»** вращение двигателя происходит до срабатывания датчика открытия клапана. Данный датчик останавливает вращение двигателя клапана.
8. При нажатии кнопки **«Закрыть клапан»** вращение двигателя происходит до срабатывания датчика закрытия клапана. Данный датчик останавливает вращение двигателя клапана.
9. Если после нажатия кнопки **«Открыть клапан»** в течение 10 секунд не появляется сигнал с датчика открытия, то появляется выходной сигнал **«Ошибка открытия клапана»**. Данный выходной сигнал передается на *выходной бит Q5*.
10. Если после нажатия кнопки **«Закрыть клапан»** в течение 10 секунд не появляется сигнал с датчика закрытия, то появляется выходной сигнал **«Ошибка закрытия клапана»**.  Данный выходной сигнал передается на *выходной бит Q6**.

*Результатом выполнения данного задания будет проект, разработанный в среде Owen Logic, работающий в соответствии с заданным алгоритмом*. 

### Задание 3* (необязательное)

Настройте связь написанного алгоритма в среде OWEN Logic с OPC-сервером ОВЕН.

#### Алгоритм действий для настройки связи между OPC и ПР:
1. Установить и/или настроить *ОВЕН OPC*.
2. Настроить связь между проектом, разработанным в среде OWEN Logic, и настроенным OPC-сервером. 
3. Изменить в OWEN Logic попеременно значения переменных *Открыть клапан*, *Закрыть клапан*, *Остановить движение*, *Датчик открытия клапана* и *Датчик закрытия клапана*. Значения должны измениться на OPC-сервере.
Для корректной установки и настройки ОВЕН OPC воспользуйтесь [инструкцией](https://docs.google.com/presentation/d/17y1o9sd37TdxqXJT7Jly9mM31kDaEuZpYkmKrzWOj1Y/edit?usp=sharing).

*Результатом выполнения данного задания будет следующий набор файлов*:
1. Скриншот OPC-переменных до внесения изменений со стороны проекта.
2. Скриншот OPC-переменных после внесения изменений со стороны проекта. 
2. Скриншот OPC-переменных после внесения изменений со стороны проекта.
3. Экспортированный проект настроенного OPC-сервера.

**Примечание**. Скриншоты должны быть именованы следующим образом: «Открыть_клапан_OPC» или «Открыть_клапан_OWEN_Logic» для команды открытия клапана в OPC-сервере и проекте соответственно.

-----
### Правила приёма работы
1. Ссылка на документ (Google Doc) с выполненным заданием в личном кабинете.
2. Документ размещён на личном Google Диске.
3. К документу настроены права доступа «Просматривать могут все в Интернете, у кого есть ссылка».
-----
### Критерии оценки
1. Зачёт - выполнены все задания, ответы даны в развернутой форме, в выполненных заданиях нет противоречий и нарушения логики.
2. На доработку - задание выполнено частично или не выполнено, в логике выполнения заданий есть противоречия, существенные недостатки.
